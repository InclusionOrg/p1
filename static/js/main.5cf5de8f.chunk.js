(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{19:function(e,t,n){e.exports=n(29)},24:function(e,t,n){},26:function(e,t,n){},29:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(8),i=n.n(o),c=(n(24),n(1)),s=n.n(c),u=n(2),l=n(9),f=n(10),p=n(15),m=n(11),v=n(16),h=n(3),d=n(4),b=(n(26),n(17)),y="https://inclusion-p2.herokuapp.com/reservations";function w(){return k.apply(this,arguments)}function k(){return(k=Object(u.a)(s.a.mark((function e(){var t,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j();case 2:return t=e.sent,console.log("result:",t),n=t.booked.map((function(e){return e.slot=new Date(e.slot).toLocaleString(),e})),e.abrupt("return",Object(b.a)({booked:n},t));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function j(){return O.apply(this,arguments)}function O(){return(O=Object(u.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch(y,{headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(e,t){return x.apply(this,arguments)}function x(){return(x=Object(u.a)(s.a.mark((function e(t,n){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("".concat(y,"/book"),{method:"POST",body:JSON.stringify({name:t,slot:n}),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(){var e=Object(h.a)(["\n  width: 7em;\n  margin: 1em;\n"]);return E=function(){return e},e}function R(){var e=Object(h.a)(["\n  display: flex;\n  max-width: 700px;\n  flex-wrap: wrap;\n  justify-content: center;\n"]);return R=function(){return e},e}function N(){var e=Object(h.a)(["\n  padding: 0.5em;\n"]);return N=function(){return e},e}function S(){var e=Object(h.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n"]);return S=function(){return e},e}function C(){var e=Object(h.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  margin-left: 10em;\n"]);return C=function(){return e},e}var H=d.a.div(C()),J=d.a.div(S()),T=d.a.input(N()),A=d.a.div(R()),D=d.a.button(E()),M=function(e){function t(){var e,n;Object(l.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(p.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(a)))).state={bookedReservations:[],availableHours:[],resName:""},n.refreshReservations=function(){w().then((function(e){var t=Object.keys(e.available).filter((function(t){return 0!==e.available[t]}));n.setState({bookedReservations:e.booked,availableHours:t})}))},n.addReservation=function(){var e=Object(u.a)(s.a.mark((function e(t){var r,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==n.state.resName&&"string"===typeof n.state.resName){e.next=3;break}return alert("must be string"),e.abrupt("return");case 3:return(r=new Date).setHours(t.slice(0,2),t.slice(3,5),0,0),e.next=7,g(n.state.resName,r);case 7:a=e.sent,console.log("newReservation:",a),n.setState({resName:""}),n.refreshReservations();case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n}return Object(v.a)(t,e),Object(f.a)(t,[{key:"componentDidMount",value:function(){this.refreshReservations()}},{key:"render",value:function(){var e=this;return a.a.createElement("div",{className:"App"},a.a.createElement("div",null,"Janky Meats"),a.a.createElement(H,null,a.a.createElement("div",null,"RESERVATIONS"),this.state.bookedReservations.map((function(e,t){return a.a.createElement("div",{key:e.name+e.slot+t},e.name," ",e.slot)}))),a.a.createElement(J,null,a.a.createElement(T,{type:"text",value:this.state.resName,placeholder:"Enter your name",onChange:function(t){return e.setState({resName:t.target.value})}}),a.a.createElement(A,null,this.state.availableHours.map((function(t){return a.a.createElement(D,{onClick:function(){return e.addReservation(t)}},t.slice(0,2)-12," ",t.slice(2)," PM")})))))}}]),t}(a.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(a.a.createElement(M,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[19,1,2]]]);
//# sourceMappingURL=main.5cf5de8f.chunk.js.map